# Nomur 微商管理系统 - 自动化测试脚本

本目录包含两个自动化测试脚本，用于演示和测试 Nomur 微商管理系统的功能。

## 脚本说明

### 1. `data_entry_automation.py` - 数据添加自动化脚本

**功能**：
- 自动生成测试数据并批量添加（商品、代理商、促销活动、订单）
- 检查功能性问题（页面元素、导航、表单等）
- 移动端测试（浏览器以手机尺寸 390x844 打开）

**使用方式**：
```bash
cd /var/www/nomur/tests
python3 data_entry_automation.py
```

**特点**：
- 交互式控制：每个步骤执行前等待用户确认
- 自动生成测试数据：无需手动输入，脚本自动生成
- 批量操作：支持批量添加多种测试数据

### 2. `full_demo_automation.py` - 完整功能演示脚本 ⭐推荐

**功能**：
- **完整演示整个项目的所有功能模块**
- 按照业务流程顺序执行（初始化数据 -> 业务操作 -> 查看结果）
- 演示管理端和代理端的所有核心功能
- 让您了解项目的完整运转方式

**使用方式**：
```bash
cd /var/www/nomur/tests
python3 full_demo_automation.py
```

**演示流程**：

#### 第一部分：系统初始化
1. 打开网站并选择管理端
2. 查看数据驾驶舱
3. 添加商品（2个）
4. 添加收款账户（1个）
5. 添加代理商（2个）
6. 添加促销活动（1个）

#### 第二部分：管理端业务操作
7. 财务管理 - 充值
8. 极速开单 - 创建订单
9. 查看订单列表
10. 查看代理商详情
11. 财务管理 - 扣款
12. 财务管理 - 调货

#### 第三部分：代理端功能演示
13. 切换到代理端
14. 选择代理商
15. 查看业绩看板（首页）
16. 查看余额明细
17. 查看促销查询
18. 查看我的订单
19. 查看素材下载
20. 查看个人中心

## 系统要求

- Python 3.6+
- Chrome 浏览器
- ChromeDriver（需与 Chrome 版本匹配）

### 安装 ChromeDriver

**Ubuntu/Debian**：
```bash
# 安装 Chrome
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
sudo dpkg -i google-chrome-stable_current_amd64.deb

# 安装 ChromeDriver
sudo apt-get install chromium-chromedriver
# 或者手动下载：https://chromedriver.chromium.org/
```

**macOS**：
```bash
brew install chromedriver
```

**Windows**：
从 https://chromedriver.chromium.org/ 下载对应版本的 ChromeDriver

### 安装 Python 依赖

```bash
pip3 install selenium
```

## 使用建议

### 首次使用推荐

**建议使用 `full_demo_automation.py`**，因为它会：
- 完整演示所有功能模块
- 按照业务流程顺序执行
- 让您全面了解项目的运转方式

### 快速测试特定功能

使用 `data_entry_automation.py`，选择对应的选项：
- 选项 1-4：单独添加商品、代理商、促销、订单
- 选项 5：批量添加测试数据
- 选项 6：手动操作模式
- 选项 12：启动完整功能演示

## 注意事项

1. **表单填写**：由于表单元素定位复杂，部分操作需要手动完成
   - 脚本会提示您需要填写的内容
   - 您可以在浏览器中手动完成表单填写
   - 完成后按回车继续

2. **等待确认**：每个步骤都会等待您的确认
   - 按回车继续下一步
   - 输入 'q' 退出脚本
   - 可以随时暂停查看页面

3. **移动端模式**：脚本以移动端尺寸（390x844）打开浏览器
   - 模拟手机端体验
   - 可以测试移动端功能

4. **数据持久化**：脚本创建的数据会保存在数据库中
   - 可以用于后续测试
   - 也可以手动清理数据库

## 功能演示清单

### 管理端功能
- ✅ 数据驾驶舱（统计概览、代理商列表）
- ✅ 商品管理（添加、编辑、删除商品）
- ✅ 收款账户管理（添加、查看详情）
- ✅ 代理管理（添加、查看详情、补充销售数据）
- ✅ 促销管理（添加促销活动）
- ✅ 极速开单（创建订单、整车计算、促销赠品）
- ✅ 财务管理（充值、扣款、调货）
- ✅ 订单列表查看

### 代理端功能
- ✅ 业绩看板（首页）
- ✅ 余额明细
- ✅ 促销查询
- ✅ 我的订单
- ✅ 素材下载
- ✅ 个人中心

## 故障排除

### ChromeDriver 版本不匹配
```bash
# 检查 Chrome 版本
google-chrome --version

# 下载对应版本的 ChromeDriver
# https://chromedriver.chromium.org/
```

### 元素定位失败
- 脚本会提示手动操作
- 可以在浏览器中手动完成操作
- 完成后按回车继续

### 页面加载慢
- 脚本已设置等待时间
- 如果页面加载慢，可以手动等待
- 完成后按回车继续

## 联系与支持

如有问题，请查看项目文档：
- `docs/功能清单.md` - 完整功能清单
- `docs/项目操作实战指南.md` - 操作指南
- `docs/系统介绍文档.md` - 系统介绍

---

**最后更新**：2024年12月
