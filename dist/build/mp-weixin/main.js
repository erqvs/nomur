"use strict";const t=require("./common/vendor.js"),e=require("./stores/app.js");Math;const a=t.defineComponent({__name:"index",setup(a){const s=e.useAppStore(),n=[{pagePath:"pages/admin/dashboard/index",text:"驾驶舱",iconPath:"/static/icons/dashboard.svg",selectedIconPath:"/static/icons/dashboard-active.svg"},{pagePath:"pages/admin/orders/index",text:"开单",iconPath:"/static/icons/order.svg",selectedIconPath:"/static/icons/order-active.svg"},{pagePath:"pages/admin/agents/index",text:"客户",iconPath:"/static/icons/product.svg",selectedIconPath:"/static/icons/product-active.svg"},{pagePath:"pages/admin/finance/index",text:"财务",iconPath:"/static/icons/finance.svg",selectedIconPath:"/static/icons/finance-active.svg"},{pagePath:"pages/admin/payees/index",text:"收款人",iconPath:"/static/icons/users.svg",selectedIconPath:"/static/icons/users-active.svg"}],o=[{pagePath:"pages/super/dashboard/index",text:"驾驶舱",iconPath:"/static/icons/dashboard.svg",selectedIconPath:"/static/icons/dashboard-active.svg"},{pagePath:"pages/super/orders/index",text:"订单",iconPath:"/static/icons/order.svg",selectedIconPath:"/static/icons/order-active.svg"},{pagePath:"pages/super/agents/index",text:"客户",iconPath:"/static/icons/product.svg",selectedIconPath:"/static/icons/product-active.svg"},{pagePath:"pages/super/finance/index",text:"财务",iconPath:"/static/icons/finance.svg",selectedIconPath:"/static/icons/finance-active.svg"},{pagePath:"pages/super/payees/index",text:"收款人",iconPath:"/static/icons/users.svg",selectedIconPath:"/static/icons/users-active.svg"}],c=t.computed(()=>s.tabBarCurrentPath),i=t.computed(()=>(t=>{if(!t)return!1;const e=t.startsWith("/")?t:"/"+t;return e.startsWith("/pages/admin/")||e.startsWith("/pages/super/")})(c.value)),r=t.computed(()=>{const t=c.value;return(t.startsWith("/")?t:"/"+t).startsWith("/pages/super/")?o:n}),p=t=>{const e=c.value;return(e.startsWith("/")?e:"/"+e)==="/"+t},d=t=>{t&&s.setTabBarPath(t)};return t.onMounted(()=>{t.index.$on("update-tabbar-path",d),(()=>{try{const t=getCurrentPages();if(t.length>0){let e=t[t.length-1].route||"";e&&!e.startsWith("/")&&(e="/"+e),e&&s.setTabBarPath(e)}}catch(t){console.error("[TabBar] 更新路径失败:",t)}})(),void 0!==t.index.onAppRoute&&t.index.onAppRoute(t=>{t.path&&s.setTabBarPath(t.path)})}),t.onUnmounted(()=>{t.index.$off("update-tabbar-path",d)}),(e,a)=>({a:t.f(r.value,(e,a,n)=>({a:e.iconPath,b:p(e.pagePath)?1:"",c:e.selectedIconPath,d:p(e.pagePath)?1:"",e:t.t(e.text),f:e.pagePath,g:p(e.pagePath)?1:"",h:t.o(a=>(e=>{const a="/"+e;c.value!==a&&(s.setTabBarPath(a),e.startsWith("pages/super/")?t.index.reLaunch({url:a}):t.index.switchTab({url:a}))})(e.pagePath),e.pagePath)})),b:i.value})}}),s=t._export_sfc(a,[["__scopeId","data-v-cb517054"]]);Math||s();const n=t.defineComponent({__name:"App",setup:a=>(t.onLaunch(()=>{console.log("App Launch");e.useAppStore().initData()}),t.onShow(()=>{console.log("App Show"),setTimeout(()=>{try{const e=getCurrentPages();e.length>0&&t.index.$emit("update-tabbar-path","/"+e[e.length-1].route)}catch(e){console.error("更新 tabbar 路径失败:",e)}},100)}),t.onHide(()=>{console.log("App Hide")}),(t,e)=>({}))});if("undefined"!=typeof window){const t=console.warn,e=console.error;console.warn=function(...e){const a=e[0];if("string"==typeof a){const t=a.toLowerCase();if(t.includes("non-passive event listener")||t.includes("passive event listener")||t.includes("scroll-blocking")||t.includes("[violation]"))return}t.apply(console,e)},console.error=function(...t){const a=t[0];if("string"==typeof a){const t=a.toLowerCase();if(t.includes("non-passive event listener")||t.includes("passive event listener")||t.includes("scroll-blocking")||t.includes("[violation]"))return}e.apply(console,t)}}function o(){const e=t.createSSRApp(n),a=t.createPinia();return e.use(a),{app:e}}o().app.mount("#app"),exports.Component=s,exports.createApp=o;
