"use strict";const e=require("../../../common/vendor.js"),t=require("../../../stores/app.js");Math||a();const a=()=>"../../../components/BalanceCard/index.js",r=e.defineComponent({__name:"index",setup(a){const r=t.useAppStore(),n=e.computed(()=>r.currentAgent),s=e.computed(()=>r.getAgentTransactions(r.currentAgentId)),o=[{label:"全部",value:"all"},{label:"收入",value:"in"},{label:"支出",value:"out"}],i=e.ref("all"),l=e.computed(()=>"all"===i.value?s.value:"in"===i.value?s.value.filter(e=>e.amount>0):s.value.filter(e=>e.amount<0)),u=e=>({gift:"赠送",payment:"充值到账",shipping:"发货扣款",fine:"罚款",transfer_in:"调货收入",transfer_out:"调货支出",marketing:"营销退款"}[e]),c=e=>{const t=new Date(e);return`${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`};return(t,a)=>e.e({a:n.value},n.value?e.e({b:e.p({balance:n.value.balance,label:"当前余额"}),c:e.f(o,(t,a,r)=>({a:e.t(t.label),b:t.value,c:i.value===t.value?1:"",d:e.o(e=>i.value=t.value,t.value)})),d:e.f(l.value,(t,a,r)=>{return e.e({a:(n=t.reason,{gift:"/static/icons/gift.svg",payment:"/static/icons/credit-card.svg",shipping:"/static/icons/box.svg",fine:"/static/icons/warning.svg",transfer_in:"/static/icons/arrow-down-circle.svg",transfer_out:"/static/icons/arrow-up-circle.svg",marketing:"/static/icons/target.svg"}[n]),b:e.t(u(t.reason)),c:e.t(c(t.createdAt)),d:t.orderItems&&t.orderItems.length>0},t.orderItems&&t.orderItems.length>0?{e:e.f(t.orderItems,(t,a,r)=>({a:e.t(t.productName),b:e.t(t.quantity),c:a}))}:{},{f:t.remark},t.remark?{g:e.t(t.remark)}:{},{h:e.t(t.amount>0?"+":""),i:e.t(t.amount.toLocaleString()),j:t.amount>0?1:"",k:t.amount<0?1:"",l:t.id});var n}),e:0===l.value.length},(l.value.length,{})):{})}}),n=e._export_sfc(r,[["__scopeId","data-v-46e81db0"]]);wx.createPage(n);
