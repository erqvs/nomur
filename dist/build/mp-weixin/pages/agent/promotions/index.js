"use strict";const t=require("../../../common/vendor.js"),e=require("../../../common/assets.js"),r=require("../../../stores/app.js"),o=t.defineComponent({__name:"index",setup(o){const a=r.useAppStore(),n=t.computed(()=>a.promotions.filter(t=>t.isActive)),i=t.computed(()=>a.promotions.filter(t=>!t.isActive)),s=t=>{const e=a.promotions.find(e=>e.id===t);if(!e)return 0;return Math.floor(280/e.threshold)*e.gifts.reduce((t,e)=>t+e.quantity,0)},d=(t,e)=>Math.round(280%e/e*100),u=t=>{const e=new Date(t);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`};return(r,o)=>t.e({a:t.f(n.value,(e,r,o)=>{return{a:t.t(e.name),b:t.t(u(e.startDate)),c:t.t(u(e.endDate)),d:t.t(e.description),e:t.f(e.gifts,(e,r,o)=>({a:t.t(e.productName),b:t.t(e.quantity),c:e.productId})),f:t.t((e.id,280)),g:t.t(s(e.id)),h:t.t((e.id,a=e.threshold,a-280%a)),i:d(e.id,e.threshold)+"%",j:t.t(e.threshold),k:e.id};var a}),b:e._imports_0$9,c:e._imports_1$9,d:0===n.value.length},0===n.value.length?{e:e._imports_0$6}:{},{f:t.f(i.value,(e,r,o)=>({a:t.t(e.name),b:t.t(e.startDate),c:t.t(e.endDate),d:e.id})),g:0===i.value.length},(i.value.length,{}))}}),a=t._export_sfc(o,[["__scopeId","data-v-ca20b2df"]]);wx.createPage(a);
