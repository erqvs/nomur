<view class="transaction-edit data-v-ac183a3f"><view wx:if="{{a}}" class="loading data-v-ac183a3f">加载中...</view><view wx:elif="{{b}}" class="edit-content data-v-ac183a3f"><view class="info-section data-v-ac183a3f"><view class="section-title data-v-ac183a3f">原交易信息</view><view class="info-card data-v-ac183a3f"><view class="info-row data-v-ac183a3f"><text class="info-label data-v-ac183a3f">代理商：</text><text class="info-value data-v-ac183a3f">{{c}}</text></view><view class="info-row data-v-ac183a3f"><text class="info-label data-v-ac183a3f">类型：</text><text class="info-value data-v-ac183a3f">{{d}}</text></view><view class="info-row data-v-ac183a3f"><text class="info-label data-v-ac183a3f">原因：</text><text class="info-value data-v-ac183a3f">{{e}}</text></view><view class="info-row data-v-ac183a3f"><text class="info-label data-v-ac183a3f">原金额：</text><text class="{{['info-value', 'data-v-ac183a3f', h && 'amount-positive', i && 'amount-negative']}}">{{f}}¥{{g}}</text></view><view class="info-row data-v-ac183a3f"><text class="info-label data-v-ac183a3f">原余额：</text><text class="info-value data-v-ac183a3f">{{j}}</text></view></view></view><view class="form-section data-v-ac183a3f"><view class="section-title data-v-ac183a3f">修改信息</view><view class="form-item data-v-ac183a3f"><text class="form-item__label data-v-ac183a3f">代理商 <text class="required data-v-ac183a3f">*</text></text><view class="agent-select data-v-ac183a3f" bindtap="{{m}}"><text class="{{['data-v-ac183a3f', 'agent-select__text', l]}}">{{k}}</text><text class="agent-select__arrow data-v-ac183a3f">›</text></view></view><view class="form-item data-v-ac183a3f"><text class="form-item__label data-v-ac183a3f">交易类型 <text class="required data-v-ac183a3f">*</text></text><view class="type-select data-v-ac183a3f"><view wx:for="{{n}}" wx:for-item="type" wx:key="b" class="{{['type-option', 'data-v-ac183a3f', type.c && 'type-option--active']}}" bindtap="{{type.d}}"><text class="data-v-ac183a3f">{{type.a}}</text></view></view></view><view class="form-item data-v-ac183a3f"><text class="form-item__label data-v-ac183a3f">原因 <text class="required data-v-ac183a3f">*</text></text><view class="reason-select data-v-ac183a3f"><view wx:for="{{o}}" wx:for-item="reason" wx:key="b" class="{{['reason-option', 'data-v-ac183a3f', reason.c && 'reason-option--active']}}" bindtap="{{reason.d}}"><text class="data-v-ac183a3f">{{reason.a}}</text></view></view></view><view class="form-item data-v-ac183a3f"><text class="form-item__label data-v-ac183a3f">金额 <text class="required data-v-ac183a3f">*</text></text><quick-input wx:if="{{q}}" class="data-v-ac183a3f" u-i="ac183a3f-0" bind:__l="__l" bindupdateModelValue="{{p}}" u-p="{{q}}"/></view><view wx:if="{{r}}" class="form-item data-v-ac183a3f"><text class="form-item__label data-v-ac183a3f">收款账户</text><view class="payee-select data-v-ac183a3f" bindtap="{{v}}"><text class="{{['data-v-ac183a3f', 'payee-select__text', t]}}">{{s}}</text><text class="payee-select__arrow data-v-ac183a3f">›</text></view></view><view class="form-item data-v-ac183a3f"><text class="form-item__label data-v-ac183a3f">备注</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-ac183a3f" placeholder="请输入备注" maxlength="200" value="{{w}}" bindinput="{{x}}"/></block></view></view><view class="impact-section data-v-ac183a3f"><view class="section-title data-v-ac183a3f">余额变化预览</view><view class="impact-card data-v-ac183a3f"><view class="impact-row data-v-ac183a3f"><text class="impact-label data-v-ac183a3f">原代理商余额：</text><text class="impact-value data-v-ac183a3f">{{y}}</text></view><view class="impact-row data-v-ac183a3f"><text class="impact-label data-v-ac183a3f">原交易影响：</text><text class="{{['impact-value', 'data-v-ac183a3f', B && 'amount-positive', C && 'amount-negative']}}">{{z}}¥{{A}}</text></view><view class="impact-divider data-v-ac183a3f"></view><view class="impact-row data-v-ac183a3f"><text class="impact-label data-v-ac183a3f">新代理商余额：</text><text class="impact-value data-v-ac183a3f">{{D}}</text></view><view class="impact-row data-v-ac183a3f"><text class="impact-label data-v-ac183a3f">新交易影响：</text><text class="{{['impact-value', 'data-v-ac183a3f', G && 'amount-positive', H && 'amount-negative']}}">{{E}}¥{{F}}</text></view><view class="impact-divider data-v-ac183a3f"></view><view class="impact-row impact-row--highlight data-v-ac183a3f"><text class="impact-label data-v-ac183a3f">余额变化：</text><text class="{{['impact-value', 'data-v-ac183a3f', K && 'amount-positive', L && 'amount-negative']}}">{{I}}¥{{J}}</text></view><view class="impact-note data-v-ac183a3f"><text class="data-v-ac183a3f">说明：{{M}}</text></view></view></view><view class="save-btn data-v-ac183a3f" bindtap="{{N}}"><text class="save-btn__text data-v-ac183a3f">保存修改</text></view></view><view wx:if="{{O}}" class="picker-mask data-v-ac183a3f" bindtap="{{S}}"><view class="picker-content data-v-ac183a3f" catchtap="{{R}}"><view class="picker-header data-v-ac183a3f"><text class="picker-title data-v-ac183a3f">选择代理商</text><text class="picker-close data-v-ac183a3f" bindtap="{{P}}">✕</text></view><scroll-view class="picker-list data-v-ac183a3f" scroll-y><view wx:for="{{Q}}" wx:for-item="agent" wx:key="c" class="{{['picker-item', 'data-v-ac183a3f', agent.d && 'picker-item--active']}}" bindtap="{{agent.e}}"><text class="picker-item__name data-v-ac183a3f">{{agent.a}}</text><text class="picker-item__balance data-v-ac183a3f">{{agent.b}}</text></view></scroll-view></view></view><view wx:if="{{T}}" class="picker-mask data-v-ac183a3f" bindtap="{{Z}}"><view class="picker-content data-v-ac183a3f" catchtap="{{Y}}"><view class="picker-header data-v-ac183a3f"><text class="picker-title data-v-ac183a3f">选择收款账户</text><text class="picker-close data-v-ac183a3f" bindtap="{{U}}">✕</text></view><scroll-view class="picker-list data-v-ac183a3f" scroll-y><view class="{{['picker-item', 'data-v-ac183a3f', V && 'picker-item--active']}}" bindtap="{{W}}"><text class="picker-item__name data-v-ac183a3f">不选择</text></view><view wx:for="{{X}}" wx:for-item="payee" wx:key="d" class="{{['picker-item', 'data-v-ac183a3f', payee.e && 'picker-item--active']}}" bindtap="{{payee.f}}"><text class="picker-item__name data-v-ac183a3f">{{payee.a}}</text><text wx:if="{{payee.b}}" class="picker-item__balance data-v-ac183a3f">{{payee.c}}</text></view></scroll-view></view></view></view>