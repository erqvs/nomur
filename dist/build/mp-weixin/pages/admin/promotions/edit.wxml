<view class="promotion-edit data-v-c4ed6620"><view class="card data-v-c4ed6620"><view class="form-item data-v-c4ed6620"><text class="form-label data-v-c4ed6620">活动名称</text><input class="form-input data-v-c4ed6620" placeholder="如：年终大促" value="{{a}}" bindinput="{{b}}"/></view><view class="form-item data-v-c4ed6620"><text class="form-label data-v-c4ed6620">活动说明</text><input class="form-input data-v-c4ed6620" placeholder="如：每满100件赠送5件" value="{{c}}" bindinput="{{d}}"/></view><view class="form-item data-v-c4ed6620"><text class="form-label data-v-c4ed6620">满足条件（件）</text><input class="form-input data-v-c4ed6620" type="number" placeholder="如：100" value="{{e}}" bindinput="{{f}}"/></view><view class="form-item data-v-c4ed6620"><text class="form-label data-v-c4ed6620">触发条件产品</text><text class="form-desc data-v-c4ed6620">可选择单个产品，或使用产品组合</text><view class="group-select-section data-v-c4ed6620"><text class="group-select-label data-v-c4ed6620">使用产品组合：</text><view class="group-select-list data-v-c4ed6620"><view wx:for="{{g}}" wx:for-item="group" wx:key="d" class="{{['group-select-item', 'data-v-c4ed6620', group.e && 'group-select-item--active']}}" bindtap="{{group.f}}"><view class="group-select-item__check data-v-c4ed6620"><text wx:if="{{group.a}}" class="data-v-c4ed6620">✓</text></view><view class="group-select-item__info data-v-c4ed6620"><text class="group-select-item__name data-v-c4ed6620">{{group.b}}</text><text class="group-select-item__products data-v-c4ed6620">{{group.c}}</text></view></view></view><view wx:if="{{h}}" class="group-select-actions data-v-c4ed6620"><view class="group-select-btn data-v-c4ed6620" bindtap="{{i}}">取消选择组合</view></view></view><view class="product-select data-v-c4ed6620"><text class="product-select-label data-v-c4ed6620">或选择单个产品：</text><view wx:for="{{j}}" wx:for-item="product" wx:key="e" class="{{['product-select-item', 'data-v-c4ed6620', product.f && 'product-select-item--active', product.g && 'product-select-item--in-group']}}"><view class="product-select-item__left data-v-c4ed6620" bindtap="{{product.c}}"><view class="product-select-item__check data-v-c4ed6620"><text wx:if="{{product.a}}" class="data-v-c4ed6620">✓</text></view><text class="product-select-item__name data-v-c4ed6620">{{product.b}}</text></view><view wx:if="{{product.d}}" class="product-select-item__group-badge data-v-c4ed6620"><text class="data-v-c4ed6620">组合</text></view></view></view><view wx:if="{{k}}" class="group-target-section data-v-c4ed6620"><view class="group-target-header data-v-c4ed6620"><text class="group-target-label data-v-c4ed6620">组合产品：{{l}}</text><view class="group-target-actions data-v-c4ed6620"><view class="group-target-btn group-target-btn--cancel data-v-c4ed6620" bindtap="{{m}}">取消组合</view><view class="group-target-btn group-target-btn--save data-v-c4ed6620" bindtap="{{n}}">保存组合</view></view></view><view class="group-target-tip data-v-c4ed6620"><text class="data-v-c4ed6620">当这些产品的总数量达到 {{o}} 件时，触发促销</text></view></view></view><view class="form-item data-v-c4ed6620"><text class="form-label data-v-c4ed6620">赠品选择（可多选）</text><text class="form-desc data-v-c4ed6620">选择产品类型，系统将从该类型下的产品中随机分配</text><view class="gift-type-select data-v-c4ed6620"><view wx:for="{{p}}" wx:for-item="type" wx:key="k" class="{{['gift-type-item', 'data-v-c4ed6620', type.l && 'gift-type-item--active']}}"><view class="gift-type-item__left data-v-c4ed6620" bindtap="{{type.d}}"><view class="gift-type-item__check data-v-c4ed6620"><text wx:if="{{type.a}}" class="data-v-c4ed6620">✓</text></view><view class="gift-type-item__info data-v-c4ed6620"><text class="gift-type-item__name data-v-c4ed6620">{{type.b}}</text><text class="gift-type-item__products data-v-c4ed6620">{{type.c}}</text></view></view><view wx:if="{{type.e}}" class="gift-type-item__quantity data-v-c4ed6620" catchtap="{{type.j}}"><view class="quantity-control data-v-c4ed6620"><view class="quantity-btn quantity-btn--small data-v-c4ed6620" bindtap="{{type.f}}">-</view><input type="number" value="{{type.g}}" class="quantity-input quantity-input--small data-v-c4ed6620" bindinput="{{type.h}}"/><text class="quantity-unit data-v-c4ed6620">箱</text><view class="quantity-btn quantity-btn--small data-v-c4ed6620" bindtap="{{type.i}}">+</view></view></view></view></view></view><view class="form-item data-v-c4ed6620"><text class="form-label data-v-c4ed6620">开始日期</text><picker class="data-v-c4ed6620" mode="date" value="{{r}}" bindchange="{{s}}"><view class="form-picker data-v-c4ed6620">{{q}}</view></picker></view><view class="form-item data-v-c4ed6620"><text class="form-label data-v-c4ed6620">结束日期</text><picker class="data-v-c4ed6620" mode="date" value="{{v}}" bindchange="{{w}}"><view class="form-picker data-v-c4ed6620">{{t}}</view></picker></view></view><view class="save-btn data-v-c4ed6620" bindtap="{{x}}"><text class="save-btn__text data-v-c4ed6620">保存修改</text></view></view>