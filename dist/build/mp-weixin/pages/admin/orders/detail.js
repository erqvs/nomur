"use strict";const e=require("../../../common/vendor.js"),t=require("../../../common/assets.js"),a=require("../../../api/index.js"),l=e.defineComponent({__name:"detail",setup(l){const r=e.ref(""),i=e.ref(null),o=e.ref(!0);e.onLoad(e=>{(null==e?void 0:e.id)&&(r.value=e.id,u())});const u=async()=>{try{o.value=!0,i.value=await a.orderApi.getById(r.value)}catch(t){e.index.showToast({title:"加载订单失败",icon:"none"})}finally{o.value=!1}},n=e=>{const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},s=()=>{i.value&&(i.value.id,e.index.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}))};return(a,l)=>e.e({a:o.value},o.value?{}:i.value?e.e({c:e.t(i.value.id.slice(-8).toUpperCase()),d:e.t(i.value.agentName),e:e.t(n(i.value.createdAt)),f:e.f(i.value.items,(t,a,l)=>({a:e.t(t.productName),b:e.t(t.quantity),c:e.t((t.quantity*t.price).toLocaleString()),d:t.productId})),g:i.value.giftItems&&i.value.giftItems.length>0},i.value.giftItems&&i.value.giftItems.length>0?e.e({h:i.value.promotionNames&&i.value.promotionNames.length>0},i.value.promotionNames&&i.value.promotionNames.length>0?{i:e.f(i.value.promotionNames,(t,a,l)=>e.e({a:e.t(t),b:a<i.value.promotionNames.length-1},(i.value.promotionNames.length,{}),{c:a}))}:{},{j:e.f(i.value.giftItems,(t,a,l)=>({a:e.t(t.productName),b:e.t(t.quantity),c:t.productId})),k:t._imports_0$6}):{},{l:e.t(i.value.totalWeight.toFixed(1)),m:e.t(i.value.totalAmount.toLocaleString()),n:e.t(i.value.driverPhone||"未填写"),o:i.value.remark},i.value.remark?{p:e.t(i.value.remark)}:{},{q:i.value.images&&i.value.images.length>0},i.value.images&&i.value.images.length>0?{r:e.f(i.value.images,(t,a,l)=>({a:a,b:t,c:e.o(t=>(t=>{var a;(null==(a=i.value)?void 0:a.images)&&e.index.previewImage({urls:i.value.images,current:t})})(a),a)}))}:{},{s:t._imports_2,t:e.o(s)}):{},{b:i.value})}}),r=e._export_sfc(l,[["__scopeId","data-v-ced5e226"]]);wx.createPage(r);
