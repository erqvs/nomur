"use strict";const t=require("../../../common/vendor.js"),a=require("../../../common/assets.js"),e=require("../../../stores/app.js"),n=t.defineComponent({__name:"index",setup(n){const i=e.useAppStore(),o=t.computed(()=>i.globalStats),s=t.computed(()=>i.agents);t.onShow(async()=>{await Promise.all([i.loadStatistics(),i.loadAgents()])});const r=t=>{const a=Math.max(...o.value.productStats.map(t=>t.quantity));return Math.round(t/a*100)},d=t=>{const a=Math.max(...o.value.last30DaysProductStats.map(t=>t.quantity));return Math.round(t/a*100)},u=t=>{const a=Math.abs(t).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});return t<0?`-${a}`:a},c=()=>{t.index.navigateTo({url:"/pages/admin/products/index"})},m=()=>{t.index.navigateTo({url:"/pages/admin/promotions/index"})},p=()=>{t.index.navigateTo({url:"/pages/admin/trucks/index"})},l=()=>{t.index.navigateTo({url:"/pages/admin/product-groups/index"})},g=()=>{t.index.navigateTo({url:"/pages/admin/orders/list"})},v=()=>{t.index.reLaunch({url:"/pages/index/index"})};return(e,n)=>({a:t.o(v),b:t.o(c),c:t.o(m),d:t.o(p),e:t.o(l),f:t.o(g),g:a._imports_0$1,h:t.t(o.value.totalShipments),i:a._imports_1$1,j:t.t(o.value.last30DaysShipments),k:t.f(o.value.productStats,(a,e,n)=>({a:t.t(a.productName),b:t.t(a.quantity),c:r(a.quantity)+"%",d:a.productId})),l:t.f(o.value.last30DaysProductStats,(a,e,n)=>({a:t.t(a.productName),b:t.t(a.quantity),c:d(a.quantity)+"%",d:a.productId})),m:t.f(s.value,(a,e,n)=>({a:a.avatar||"/static/images/default-avatar.svg",b:t.t(a.name),c:t.t(a.phone1),d:t.t(u(a.balance)),e:a.balance<0?1:"",f:a.id,g:t.o(e=>{return n=a.id,void t.index.navigateTo({url:`/pages/admin/agents/detail?id=${n}`});var n},a.id)}))})}}),i=t._export_sfc(n,[["__scopeId","data-v-78f2419b"]]);wx.createPage(i);
